name: Allow only Hotfix or Sprint branches to merge into UAT

on:
  pull_request:
    branches:
      - UAT

jobs:
  validate-branch-name:
    runs-on: ubuntu-latest
    steps:
      - name: Check source branch name
        run: |
          echo "Source branch: ${{ github.head_ref }}"

          if [[ ! "${{ github.head_ref }}" =~ ^(Hotfix|Sprint).* ]]; then
            echo "‚ùå Only branches starting with 'Hotfix' or 'Sprint' can merge into UAT"
            exit 1
          fi
